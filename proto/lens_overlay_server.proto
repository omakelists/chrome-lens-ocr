syntax = "proto3";

package lens;

import "lens_overlay_client_logs.proto";
import "lens_overlay_routing_info.proto";
import "lens_overlay_service_deps.proto";

message LensOverlayServerClusterInfoRequest {
  bool enable_search_session_id = 1;
}

message LensOverlayServerClusterInfoResponse {
  string server_session_id = 1;
  string search_session_id = 2;
  LensOverlayRoutingInfo routing_info = 3;
}

message LensOverlayServerError {
  enum ErrorType {
    UNKNOWN_TYPE = 0;
    MISSING_REQUEST = 1;
  }

  ErrorType error_type = 1;
}

message LensOverlayServerRequest {
  LensOverlayObjectsRequest objects_request = 1;
  LensOverlayInteractionRequest interaction_request = 2;
  LensOverlayClientLogs client_logs = 3;
}

message LensOverlayServerResponse {
  LensOverlayServerError error = 1;
  LensOverlayObjectsResponse objects_response = 2;
  LensOverlayInteractionResponse interaction_response = 3;
}